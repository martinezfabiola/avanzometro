<!-- Universidad Simon Bolivar
Ingenieria de Software
Integrantes:
	Abelardo Salazar
	Amanda Camacho
	Fabiola Martinez
	Lautaro Villalon
	Maria Bracamonte
	Yarima Luciani
Descripcion: generador de grafica.
Ultima modificacion: 2 de noviembre 2017. -->
<!DOCTYPE HTML>
<html>
<head>  
<title>Avanzómetro</title>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
{%load static%}
<link rel="stylesheet" href="{% static 'css/bootstrap.min.css'%}">
<script src="{% static 'js/jquery.min.js'%}"></script>
<script src="{% static 'js/bootstrap.min.js'%}"></script>
<script type="text/javascript" src="{% static 'js/canvasjs.min.js'%}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'css/chart.css'%}">
</head>
<body>

<!-- Creamos navbar -->
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="/">Avanzómetro</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="/">Inicio</a></li>
      <li class="inactive"><a href="../grafico/form">Cambiar Filtros</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      {% if user.is_authenticated %}
      <li><a href="{% url 'logout' %}"><span class="glyphicon glyphicon-user"></span>Cerrar Sesión {{ user.username }}</a></li>
      {% else %}
      <li><a href="{% url 'login' %}"><span class="glyphicon glyphicon-user"></span>Ingresar</a></li>
      {% endif %}
    </ul>
  </div>
</nav>

<!-- Creamos grafica -->
<div class="row">
<div class="col-sm-3"></div>
<div class="col-sm-6">
	<script type="text/javascript">
		window.onload = function () {

		CanvasJS.addColorSet("greenShades",["#48D1CC"]);

		var chart = new CanvasJS.Chart("chartContainer", {
		  colorSet: "greenShades",
		  animationEnabled: true,
		  // theme: "light1", // "light1", "light2", "dark1", "dark2"
		  title:{
		    text: "Avanzómetro"
		  },
		  axisY: {
		    title: "Estudiantes",
		    suffix: '%',
		    // minimun: 0,
		    maximum: 100,
		    interval: 25
		  },
		  axisX: {
		    title: "Créditos Aprobados",
		    labelAutoFit: true
		    // minimun: 0,
		    // maximun: 250,
		    // interval: 16
		  },
		  data: [{        
		    type: "column",  
		    showInLegend: true, 
		    legendMarkerColor: "#48D1CC",
		    legendText: "{{ carreraQuery }}",
		    dataPoints: [ 
		      {% if resultDic.0 > 0 %} 
		      	{ y: {{ resultDic.0 }}, label: "0"},
		      {% endif %}
		      {% if resultDic.16 > 0 %} 
		      	{ y: {{ resultDic.16 }}, label: "1-16"},
		      {% endif %}
		      {% if resultDic.32 > 0 %} 
		      	{ y: {{ resultDic.32 }}, label: "17-32"},
		      {% endif %}
		      {% if resultDic.48 > 0 %} 
		      	{ y: {{ resultDic.48 }}, label: "33-48"},
		      {% endif %}	
		      {% if resultDic.64 > 0 %} 
		      	{ y: {{ resultDic.64 }}, label: "49-64"},
		      {% endif %}
		      {% if resultDic.80 > 0 %} 
		      	{ y: {{ resultDic.80 }}, label: "65-80"},
		      {% endif %}	      
		      {% if resultDic.96 > 0 %} 
		      	{ y: {{ resultDic.96 }}, label: "81-96"},
		      {% endif %}
		      {% if resultDic.112 > 0 %} 
		      	{ y: {{ resultDic.112 }}, label: "97-112"},
		      {% endif %}
		      {% if resultDic.128 > 0 %} 
		      	{ y: {{ resultDic.128 }}, label: "113-128"},
		      {% endif %}
		      {% if resultDic.144 > 0 %} 
		      	{ y: {{ resultDic.144 }}, label: "129-144"},
		      {% endif %}
		      {% if resultDic.160 > 0 %} 
		      	{ y: {{ resultDic.160 }}, label: "145-160"},
		      {% endif %}
		      {% if resultDic.176 > 0 %} 
		      	{ y: {{ resultDic.176 }}, label: "161-176"},
		      {% endif %}
		      {% if resultDic.192 > 0 %} 
		      	{ y: {{ resultDic.192 }}, label: "177-192"},
		      {% endif %}
		      {% if resultDic.208 > 0 %}
		      	{ y: {{ resultDic.208 }}, label: "193-208"},
		      {% endif %}
		      {% if resultDic.224 > 0 %} 
		      	{ y: {{ resultDic.224 }}, label: "209-224"},
		      {% endif %}
		      {% if resultDic.240 > 0 %} 
		      	{ y: {{ resultDic.240 }}, label: "225-240"},
		      {% endif %}
		    ]
		  }]
		});
		chart.render();
		}
	</script>
	<div id="chartContainer" style="height: 370px; width: 100%;"></div>
</div>
<div class="col-sm-3"></div>
</div>
</body>
</html>